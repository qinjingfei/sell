{"version":3,"sources":["webpack:///src/components/ratings/ratings.vue","webpack:///./src/components/ratings/ratings.vue?4870","webpack:///./src/components/ratings/ratings.vue","webpack:///src/components/ratingselect/ratingselect.vue","webpack:///./src/components/ratingselect/ratingselect.vue?355c","webpack:///./src/components/ratingselect/ratingselect.vue","webpack:///./src/common/js/date.js"],"names":["name","props","seller","type","Object","data","ratings","selectType","onlyContent","components","star","split","ratingselect","created","_this","this","$http","get","then","response","body","$nextTick","scroll","bscroll_default","a","$refs","click","methods","needShow","text","selectRating","_this2","refresh","toggleContent","_this3","filters","formatDate","time","date","Date","js_date","ratings_ratings","render","_vm","_h","$createElement","_c","_self","ref","staticClass","_v","_s","score","rankRate","attrs","size","serviceScore","foodScore","deliveryTime","on","select","toggle","_l","rating","index","directives","rawName","value","rateType","expression","key","width","height","username","recommend","length","item","_f","rateTime","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","Array","default","Number","Boolean","desc","all","positive","negative","computed","filter","event","_constructed","$emit","ratingselect_ratingselect","class","active","$event","padLeftZero","str","substr","fmt","test","replace","RegExp","$1","getFullYear","o","M+","getMonth","d+","getDate","h+","getHours","m+","getMinutes","s+","getSeconds","k"],"mappings":"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","file":"static/js/ratings.d5c96e205e867a02c547.js","sourcesContent":["<template>\t\r\n\t<div class=\"ratings\" ref=\"ratings\">\r\n\t\t<div class=\"ratings-content\">\r\n\t\t\t<div class=\"overview\">\r\n\t\t\t\t<div class=\"overview-left\">\r\n\t\t\t\t\t<h1 class=\"score\">{{seller.score}}</h1>\r\n\t\t\t\t\t<div class=\"title\">综合评分</div>\r\n\t\t\t\t\t<div class=\"rank\">高于周边商家{{seller.rankRate}}%</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"overview-right\">\r\n\t\t\t\t\t<div class=\"score-wrapper\">\r\n\t\t\t\t\t\t<div class=\"title\">\r\n\t\t\t\t\t\t\t服务态度\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<star :size=\"36\" :score=\"seller.serviceScore\"></star>\r\n\t\t\t\t\t\t<span class=\"score\">{{seller.serviceScore}}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"score-wrapper\">\r\n\t\t\t\t\t\t<div class=\"title\">\r\n\t\t\t\t\t\t\t商品评分\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<star :size=\"36\" :score=\"seller.foodScore\"></star>\r\n\t\t\t\t\t\t<span class=\"score\">{{seller.foodScore}}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"delivery-wrapper\">\r\n\t\t\t\t\t\t<span class=\"title\">送达时间</span>\r\n\t\t\t\t\t\t<span class=\"delivery\">{{seller.deliveryTime}}分钟</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<split></split>\r\n\t\t\t<ratingselect @select=\"selectRating\" @toggle=\"toggleContent\" :selectType=\"selectType\" :onlyContent=\"onlyContent\"\r\n        \t\t:ratings=\"ratings\">\r\n\t\t\t</ratingselect>\r\n\t\t\t<div class=\"rating-wrapper\">\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li v-for=\"(rating,index) in ratings\" v-show=\"needShow(rating.rateType, rating.text)\" class=\"rating-item\" :key=\"index\">\r\n\t\t\t\t\t\t<div class=\"avatar\">\r\n\t\t\t\t\t\t\t<img width=\"28\" height=\"28\" v-lazy=\"rating.avatar\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t\t\t<h1 class=\"name\">{{rating.username}}</h1>\r\n\t\t\t\t\t\t\t<div class=\"star-wrapper\">\r\n\t\t\t\t\t\t\t\t<star :size=\"24\" :score=\"rating.score\"></star>\r\n\t\t\t\t\t\t\t\t<span class=\"delivery\" v-show=\"rating.deliveryTime\">{{rating.deliveryTime}}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p class=\"text\">{{rating.text}}</p>\r\n\t\t\t\t\t\t\t<div class=\"recommend\" v-show=\"rating.recommend && rating.recommend.length\">\r\n\t\t\t\t\t\t\t\t<span class=\"icon-thumb_up\"></span>\r\n\t\t\t\t\t\t\t\t<span class=\"item\" v-for=\"(item, index) in rating.recommend\" :key=\"index\">{{item}}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"time\">\r\n\t\t\t\t\t\t\t\t{{rating.rateTime | formatDate}}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\nimport BScroll from \"better-scroll\";\r\nimport star from \"@/components/star/star\"\r\nimport split from \"@/components/split/split\"\r\nimport ratingselect from \"@/components/ratingselect/ratingselect\";\r\nimport {formatDate} from '@/common/js/date';\r\n\r\n\r\nconst ALL = 2;\r\nconst ERR_OK = 0;\r\n\r\nexport default {\r\n\tname: \"ratings\",\r\n\tprops:{\r\n\t\tseller:{\r\n\t\t\ttype: Object\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\tratings: [],\r\n\t\tselectType: ALL,\r\n\t\tonlyContent: true\r\n\t\t};\r\n    },\r\n\tcomponents:{\r\n\t\tstar,\r\n\t\tsplit,\r\n\t\tratingselect\r\n\t},\r\n\tcreated() {\r\n\t\tconst url = 'https://raw.githubusercontent.com/qinjingfei/sell/master/data.json'\r\n\t\tthis.$http.get(url).then((response) => {\r\n\t\t\tresponse = response.body;\r\n\t\t\tthis.ratings = response.ratings;\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.scroll = new BScroll(this.$refs.ratings, {\t\t//初始化BScroll\r\n\t\t\t\t\tclick: true\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\t\r\n\t\t});\r\n    },\r\n\tmethods:{\r\n\t\tneedShow(type, text) {\r\n\t\t\tif (this.onlyContent && !text) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (this.selectType === ALL) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn type === this.selectType;\r\n\t\t\t}\r\n\t\t},\r\n\t\tselectRating(type) {\r\n\t\t\tthis.selectType = type;\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\tthis.scroll.refresh();\r\n\t\t\t});\r\n\t\t},\r\n\t\ttoggleContent() {\r\n\t\t\tthis.onlyContent = !this.onlyContent;\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\tthis.scroll.refresh();\r\n\t\t\t});\r\n\t\t}\r\n    },\r\n    filters: {\r\n\t\tformatDate(time) {\r\n\t\tlet date = new Date(time);\r\n\t\treturn formatDate(date, 'yyyy-MM-dd hh:mm');\r\n\t\t}\r\n    }\r\n}  \r\n</script>\r\n\r\n\r\n<style lang=\"stylus\">\r\n@import '../../common/stylus/mixin.styl'\r\n\r\n.ratings\r\n\tposition: absolute\r\n\ttop: 174px\r\n\tbottom: 0\r\n\tleft: 0\r\n\twidth: 100%\r\n\toverflow: hidden\r\n\t.overview\r\n\t\tdisplay: flex\r\n\t\tpadding: 18px 0\r\n\t\t.overview-left\r\n\t\t\tflex: 0 0 137px\r\n\t\t\tpadding-bottom: 6px\r\n\t\t\twidth: 137px\r\n\t\t\tborder-right: 1px solid rgba(7, 17, 27, 0.1)\r\n\t\t\ttext-align: center\r\n\t\t\t@media only screen and (max-width: 320px)\r\n\t\t\t\tflex: 0 0 120px\r\n\t\t\t\twidth: 120px\r\n\t\t\t.score\r\n\t\t\t\tmargin-bottom: 6px\r\n\t\t\t\tline-height: 28px\r\n\t\t\t\tfont-size: 14px\r\n\t\t\t\tcolor: rgb(255, 153, 0)\r\n\t\t\t.title\r\n\t\t\t\tmargin-bottom: 8px\r\n\t\t\t\tline-height: 12px\r\n\t\t\t\tfont-size: 12px\r\n\t\t\t\tcolor: rgb(7, 17, 27)\r\n\t\t\t.rank\r\n\t\t\t\tline-height: 10px\r\n\t\t\t\tfont-size: 10px\r\n\t\t\t\tcolor: rgb(147, 153, 159)\r\n\t\t.overview-right\r\n\t\t\tflex: 1\r\n\t\t\tpadding: 6px 0 6px 24px\r\n\t\t\t@media only screen and (max-width: 320px)\r\n\t\t\t\tpadding-left: 6px\r\n\t\t\t.score-wrapper\r\n\t\t\t\tmargin-bottom: 8px\r\n\t\t\t\tfont-size: 0\r\n\t\t\t\t.title\r\n\t\t\t\t\tdisplay: inline-block\r\n\t\t\t\t\tline-height: 18px\r\n\t\t\t\t\tvertical-align: top\r\n\t\t\t\t\tfont-size: 12px\r\n\t\t\t\t\tcolor: rgb(7, 17, 27)\r\n\t\t\t\t.star\r\n\t\t\t\t\tdisplay: inline-block\r\n\t\t\t\t\tmargin: 0 12px\r\n\t\t\t\t\tvertical-align: top\r\n\t\t\t\t.score\r\n\t\t\t\t\tdisplay: inline-block\r\n\t\t\t\t\tline-height: 18px\r\n\t\t\t\t\tvertical-align: top\r\n\t\t\t\t\tfont-size: 12px\r\n\t\t\t\t\tcolor: rgb(255, 153, 0)\r\n\t\t\t.delivery-wrapper\r\n\t\t\t\tfont-size: 0\r\n\t\t\t\t.title\r\n\t\t\t\t\tline-height: 18px\r\n\t\t\t\t\tfont-size: 12px\r\n\t\t\t\t\tcolor: rgb(7, 17, 27)\r\n\t\t\t\t.delivery\r\n\t\t\t\t\tmargin-left: 12px\r\n\t\t\t\t\tfont-size: 12px\r\n\t\t\t\t\tcolor: rgb(147, 153, 159)\r\n\t.rating-wrapper\r\n\t\tpadding: 0 18px\r\n\t\t.rating-item\r\n\t\t\tdisplay: flex\r\n\t\t\tpadding: 18px 0\r\n\t\t\tborder-1px(rgba(7, 17, 27, 0.1))\r\n\t\t\t.avatar\r\n\t\t\t\tflex: 0 0 28px\r\n\t\t\t\twidth: 28px\r\n\t\t\t\tmargin-right: 12px\r\n\t\t\t\timg\r\n\t\t\t\t\tborder-radius: 50%\r\n\t\t\t.content\r\n\t\t\t\tposition: relative\r\n\t\t\t\tflex: 1\r\n\t\t\t\t.name\r\n\t\t\t\t\tmargin-bottom: 4px\r\n\t\t\t\t\tline-height: 12px\r\n\t\t\t\t\tfont-size: 10px\r\n\t\t\t\t\tcolor: rgb(7, 17, 27)\r\n\t\t\t\t.star-wrapper\r\n\t\t\t\t\tmargin-bottom: 6px\r\n\t\t\t\t\tfont-size: 0\r\n\t\t\t\t\t.star\r\n\t\t\t\t\t\tdisplay: inline-block\r\n\t\t\t\t\t\tmargin-right: 6px\r\n\t\t\t\t\t\tvertical-align: top\r\n\t\t\t\t\t.delivery\r\n\t\t\t\t\t\tdisplay: inline-block\r\n\t\t\t\t\t\tvertical-align: top\r\n\t\t\t\t\t\tline-height: 12px\r\n\t\t\t\t\t\tfont-size: 10px\r\n\t\t\t\t\t\tcolor: rgb(147, 153, 159)\r\n\t\t\t\t.text\r\n\t\t\t\t\tmargin-bottom: 8px\r\n\t\t\t\t\tline-height: 18px\r\n\t\t\t\t\tcolor: rgb(7, 17, 27)\r\n\t\t\t\t\tfont-size: 12px\r\n\t\t\t\t.recommend\r\n\t\t\t\t\tline-height: 16px\r\n\t\t\t\t\tfont-size: 0\r\n\t\t\t\t\t.icon-thumb_up, .item\r\n\t\t\t\t\t\tdisplay: inline-block\r\n\t\t\t\t\t\tmargin: 0 8px 4px 0\r\n\t\t\t\t\t\tfont-size: 9px\r\n\t\t\t\t\t.icon-thumb_up\r\n\t\t\t\t\t\tcolor: rgb(0, 160, 220)\r\n\t\t\t\t\t.item\r\n\t\t\t\t\t\tpadding: 0 6px\r\n\t\t\t\t\t\tborder: 1px solid rgba(7, 17, 27, 0.1)\r\n\t\t\t\t\t\tborder-radius: 1px\r\n\t\t\t\t\t\tcolor: rgb(147, 153, 159)\r\n\t\t\t\t\t\tbackground: #fff\r\n\t\t\t .time\r\n\t\t\t\tposition: absolute\r\n\t\t\t\ttop: 0\r\n\t\t\t\tright: 0\r\n\t\t\t\tline-height: 12px\r\n\t\t\t\tfont-size: 10px\r\n\t\t\t\tcolor: rgb(147, 153, 159)\r\n\r\n\t</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/ratings/ratings.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"ratings\",staticClass:\"ratings\"},[_c('div',{staticClass:\"ratings-content\"},[_c('div',{staticClass:\"overview\"},[_c('div',{staticClass:\"overview-left\"},[_c('h1',{staticClass:\"score\"},[_vm._v(_vm._s(_vm.seller.score))]),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(\"综合评分\")]),_vm._v(\" \"),_c('div',{staticClass:\"rank\"},[_vm._v(\"高于周边商家\"+_vm._s(_vm.seller.rankRate)+\"%\")])]),_vm._v(\" \"),_c('div',{staticClass:\"overview-right\"},[_c('div',{staticClass:\"score-wrapper\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t服务态度\\n\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('star',{attrs:{\"size\":36,\"score\":_vm.seller.serviceScore}}),_vm._v(\" \"),_c('span',{staticClass:\"score\"},[_vm._v(_vm._s(_vm.seller.serviceScore))])],1),_vm._v(\" \"),_c('div',{staticClass:\"score-wrapper\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t商品评分\\n\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('star',{attrs:{\"size\":36,\"score\":_vm.seller.foodScore}}),_vm._v(\" \"),_c('span',{staticClass:\"score\"},[_vm._v(_vm._s(_vm.seller.foodScore))])],1),_vm._v(\" \"),_c('div',{staticClass:\"delivery-wrapper\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"送达时间\")]),_vm._v(\" \"),_c('span',{staticClass:\"delivery\"},[_vm._v(_vm._s(_vm.seller.deliveryTime)+\"分钟\")])])])]),_vm._v(\" \"),_c('split'),_vm._v(\" \"),_c('ratingselect',{attrs:{\"selectType\":_vm.selectType,\"onlyContent\":_vm.onlyContent,\"ratings\":_vm.ratings},on:{\"select\":_vm.selectRating,\"toggle\":_vm.toggleContent}}),_vm._v(\" \"),_c('div',{staticClass:\"rating-wrapper\"},[_c('ul',_vm._l((_vm.ratings),function(rating,index){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.needShow(rating.rateType, rating.text)),expression:\"needShow(rating.rateType, rating.text)\"}],key:index,staticClass:\"rating-item\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(rating.avatar),expression:\"rating.avatar\"}],attrs:{\"width\":\"28\",\"height\":\"28\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('h1',{staticClass:\"name\"},[_vm._v(_vm._s(rating.username))]),_vm._v(\" \"),_c('div',{staticClass:\"star-wrapper\"},[_c('star',{attrs:{\"size\":24,\"score\":rating.score}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(rating.deliveryTime),expression:\"rating.deliveryTime\"}],staticClass:\"delivery\"},[_vm._v(_vm._s(rating.deliveryTime))])],1),_vm._v(\" \"),_c('p',{staticClass:\"text\"},[_vm._v(_vm._s(rating.text))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(rating.recommend && rating.recommend.length),expression:\"rating.recommend && rating.recommend.length\"}],staticClass:\"recommend\"},[_c('span',{staticClass:\"icon-thumb_up\"}),_vm._v(\" \"),_vm._l((rating.recommend),function(item,index){return _c('span',{key:index,staticClass:\"item\"},[_vm._v(_vm._s(item))])})],2),_vm._v(\" \"),_c('div',{staticClass:\"time\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm._f(\"formatDate\")(rating.rateTime))+\"\\n\\t\\t\\t\\t\\t\\t\\t\")])])])}))])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-46297bd1\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ratings/ratings.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-46297bd1\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ratings.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ratings.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ratings.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-46297bd1\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ratings.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ratings/ratings.vue\n// module id = null\n// module chunks = ","<template>\n    <div class=\"ratingselect\">\n        <div class=\"rating-type border-1px\">\n            <span @click=\"select(2, $event)\" class=\"block positive\" :class=\"{'active':selectType===2}\">{{desc.all}}\n                <span class=\"count\">{{ratings.length}}</span>\n            </span>\n            <span @click=\"select(0, $event)\" class=\"block positive\" :class=\"{'active':selectType===0}\">{{desc.positive}}\n                 <span class=\"count\">{{positive.length}}</span>\n            </span>\n            <span @click=\"select(1, $event)\" class=\"block negative\" :class=\"{'active':selectType===1}\">{{desc.negative}}\n                 <span class=\"count\">{{negative.length}}</span>\n            </span>\n        </div>\n        <div @click=\"toggleContent\" class=\"switch\" :class=\"{'on':onlyContent}\">\n            <span class=\"icon-check_circle\"></span>\n            <span class=\"text\">只看内容的评价</span>\n        </div>\n    </div>\n    \n</template>\n\n<script>\nconst POSITIVE = 0;\nconst NEGATIVE = 1;\nconst ALL = 2;\n\nexport default {\n    props:{\n        ratings: {\n            type: Array,\n            default(){\n                return [];\n            }\n        },\n        selectType: {\n            type: Number,\n            default: ALL\n        },\n        onlyContent: {\n            type: Boolean,\n            default: false\n        },\n        desc: {\n            type: Object,\n            default(){\n                return {\n                    all: \"全部\",\n                    positive: \"满意\",\n                    negative: \"不满意\"\n                }\n            }\n        }\n    },\n    computed:{\n        positive(){\n            return this.ratings.filter(ratings => ratings.rateType === POSITIVE)\n        },\n        negative(){\n            return this.ratings.filter(ratings => ratings.rateType === NEGATIVE)\n        }\n    },\n    methods:{\n        select(type, event){\n            if(!event._constructed){\n                return;\n            }\n            this.$emit('select', type); //将type值传给父组件，注册select事件(在父组件中修改type的值)\n        },\n        toggleContent(event){\n            if (!event._constructed) {\n                return;\n            }\n            this.$emit('toggle');\n        }\n    \n    }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n@import '../../common/stylus/mixin.styl'\n\n.ratingselect\n    .rating-type\n        padding: 18px 0\n        margin: 0 18px\n        border-1px(rgba(7, 17, 27, 0.1))\n        font-size: 0 // 清除间隙\n        .block\n            display: inline-block\n            padding: 8px 12px\n            margin-right: 8px\n            line-height: 16px\n            border-radius: 1px\n            color: rgb(77, 85, 93)\n            font-size: 12px\n            &.active\n                color: #ffffff\n            .count\n                margin-left: 2px\n                line-height: 16px\n                font-size: 8px\n            &.positive\n                background: rgba(0, 160, 220, 0.2)\n                &.active\n                    background: rgb(0, 160, 220)\n            &.negative\n                background: rgba(77, 85, 93, 0.2)\n                &.active\n                    background: rgb(77, 85, 93)\n    .switch\n        padding: 12px 18px\n        line-height: 24px\n        border-bottom: 1px solid rgba(7, 17, 27, 0.1)\n        color: rgb(147, 153, 159)\n        font-size: 0\n        &.on\n            .icon-check_circle\n                color: #00c850\n        .icon-check_circle\n            display: inline-block\n            vertical-align: top\n            margin-right: 4px\n            font-size: 24px\n        .text\n            font-size: 12px\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/ratingselect/ratingselect.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ratingselect\"},[_c('div',{staticClass:\"rating-type border-1px\"},[_c('span',{staticClass:\"block positive\",class:{'active':_vm.selectType===2},on:{\"click\":function($event){_vm.select(2, $event)}}},[_vm._v(_vm._s(_vm.desc.all)+\"\\n            \"),_c('span',{staticClass:\"count\"},[_vm._v(_vm._s(_vm.ratings.length))])]),_vm._v(\" \"),_c('span',{staticClass:\"block positive\",class:{'active':_vm.selectType===0},on:{\"click\":function($event){_vm.select(0, $event)}}},[_vm._v(_vm._s(_vm.desc.positive)+\"\\n             \"),_c('span',{staticClass:\"count\"},[_vm._v(_vm._s(_vm.positive.length))])]),_vm._v(\" \"),_c('span',{staticClass:\"block negative\",class:{'active':_vm.selectType===1},on:{\"click\":function($event){_vm.select(1, $event)}}},[_vm._v(_vm._s(_vm.desc.negative)+\"\\n             \"),_c('span',{staticClass:\"count\"},[_vm._v(_vm._s(_vm.negative.length))])])]),_vm._v(\" \"),_c('div',{staticClass:\"switch\",class:{'on':_vm.onlyContent},on:{\"click\":_vm.toggleContent}},[_c('span',{staticClass:\"icon-check_circle\"}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(\"只看内容的评价\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6f01b462\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ratingselect/ratingselect.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6f01b462\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ratingselect.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ratingselect.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ratingselect.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6f01b462\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ratingselect.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6f01b462\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ratingselect/ratingselect.vue\n// module id = null\n// module chunks = ","export function formatDate(date, fmt) {\n  if (/(y+)/.test(fmt)) {\n    fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\n  }\n  let o = {\n    'M+': date.getMonth() + 1,\n    'd+': date.getDate(),\n    'h+': date.getHours(),\n    'm+': date.getMinutes(),\n    's+': date.getSeconds()\n  };\n  for (let k in o) {\n    if (new RegExp(`(${k})`).test(fmt)) {\n      let str = o[k] + '';\n      fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? str : padLeftZero(str));\n    }\n  }\n  return fmt;\n};\n\nfunction padLeftZero(str) {\n  return ('00' + str).substr(str.length);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/date.js"],"sourceRoot":""}